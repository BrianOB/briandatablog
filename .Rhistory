filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.14,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
y='Number of countries',
x= 'Deaths as percentage of cases') +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048,.12, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.14,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
y='Number of countries',
x= 'Deaths as percentage of cases') +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048,.14, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
y='Number of countries',
x= 'Deaths as percentage of cases') +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048,.14, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
y='Number of countries',
x= 'Deaths as percentage of cases') +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157))
survival %>%
filter(death_rate > 0) %>%
count()
survival %>%
filter(deaths_total > 0) %>%
count()
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
y='Number of countries (out of 125 reporting at least one covid-related death',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
y='Number of countries\n(out of 125 reporting at least one covid-related death',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control\nIncludes 125 countries reporting at least one death from Covid-19") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
y='Number of countries (n=125)',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control\nIncludes 125 countries reporting at least one death from Covid-19") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)"
y='Number of countries (n=125)',
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries (n=125)',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control\nIncludes 125 countries reporting at least one death from Covid-19") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control\nIncludes 125 countries reporting at least one death from Covid-19") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(title=element_text(hjust=1/2))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(title=element_text(hjust=0.5))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(title=element_text(hjust=0.5,vjust=0.5))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(plot.title=element_text(hjust=0.5))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(plot.title=element_text(hjust=0.5),
plot.subtitle = element_text(jhust=0.5))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(plot.title=element_text(hjust=0.5),
plot.subtitle = element_text(hjust=0.5))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01)) +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(plot.title=element_text(hjust=0.5,size=rel(1.5)),
plot.subtitle = element_text(hjust=0.5))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01),color='yellow') +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(plot.title=element_text(hjust=0.5,size=rel(1.5)),
plot.subtitle = element_text(hjust=0.5))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01),fill='yellow') +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(plot.title=element_text(hjust=0.5,size=rel(1.5)),
plot.subtitle = element_text(hjust=0.5))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01),fill='yellow',color='black') +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(plot.title=element_text(hjust=0.5,size=rel(1.5)),
plot.subtitle = element_text(hjust=0.5))
survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US (4.3%)',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01),fill='yellow',color='black') +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(plot.title=element_text(hjust=0.5,size=rel(1.5)),
plot.subtitle = element_text(hjust=0.5))
blogdown:::serve_site()
blogdown:::new_post_addin()
# libraries
library(tidyverse)
library(lubridate)
# get the data
data_raw_path <- 'D:/Documents/projects/data_workshop/data_raw/'
# get last download date-time
load(paste0(data_raw_path,'dl.RData'))
ecdpc_url <- "https://opendata.ecdc.europa.eu/covid19/casedistribution/csv"
current_dt <- now('UTC')
if (as.numeric(current_dt - dl_dt,unit='days') > 1) {
# been more than 24 hours since last download, so get new data
download.file(ecdpc_url,paste0(data_raw_path,'casedistribution.csv'))
# save current as new download date-time
dl_dt <- current_dt
save(dl_dt,file=paste0(data_raw_path,'dl.RData'))
}
ecdpc_data <- read_csv(paste0(data_raw_path,'casedistribution.csv'))
# convert dateRep to date
ecdpc_data <- ecdpc_data %>%
mutate(dateRep=as.Date(dateRep,'%d/%m/%Y'))
survival <- ecdpc_data %>%
group_by(countriesAndTerritories) %>%
summarise(cases_total = sum(cases),
deaths_total = sum(deaths)) %>%
filter(cases_total >= 100) %>%
mutate(death_rate = round(deaths_total/cases_total,digits=3))
survival_quartiles <- survival %>%
filter(death_rate > 0) %>%
summarise(best = min(death_rate),
q1 = quantile(death_rate,.25),
median = median(death_rate),
q3 = quantile(death_rate,.75),
worst = max(death_rate),
)
us_stats <- survival %>%
filter(countriesAndTerritories == 'United_States_of_America')
country_count <- survival %>%
filter(deaths_total > 0) %>%
count() %>%
pull(n)
# graph it
p1 <- survival %>%
filter(death_rate > 0) %>%
arrange(death_rate) %>%
ggplot(aes(x=death_rate)) +
annotate('text', x=.045, y=26, label='US (4.3%)',color='red') +
annotate('text',x=.028, y=26, label='Median', color='blue') +
geom_histogram(breaks = seq(0,.16,.01),fill='yellow',color='black') +
geom_segment(aes(x=us_stats$death_rate,y=0,xend=us_stats$death_rate,yend=25),color='red') +
geom_segment(aes(x=.028, y=0, xend=.028, yend=25),color='blue') +
labs(title='Deaths per cases',
subtitle="(Includes 125 countries reporting at least one death from Covid-19)",
y='Number of countries',
x= 'Deaths as percentage of cases',
caption = "Source: European Centre for Disease Prevention and Control") +
scale_x_continuous(labels=scales::percent,
breaks = c(0.002,.014, .028,.048, .157)) +
theme(plot.title=element_text(hjust=0.5,size=rel(1.5)),
plot.subtitle = element_text(hjust=0.5))
p1
library(DT)
survival %>%
filter(deaths_rate==0.2) %>%
datatable()
survival %>%
filter(death_rate==0.2) %>%
datatable()
survival %>%
filter(death_rate<=0.3) %>%
datatable()
survival %>%
filter(death_rate<=0.2) %>%
datatable()
survival %>%
filter(death_rate<=0.2) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases'))
survival %>%
filter(death_rate<=0.2) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases')) %>%
formatCurrency(c('Total cases','Total deaths'),mark=',',digits=0,currency='')
survival %>%
filter(death_rate<=0.2) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases')) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='')
survival %>%
filter(death_rate<=0.2) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases')) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='') %>%
formatPercentage('death_rate',digits=1)
survival %>%
filter(death_rate<=0.02) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases')) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='') %>%
formatPercentage('death_rate',digits=1)
survival %>%
filter(death_rate<=0.02, death_rate>0) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases')) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='') %>%
formatPercentage('death_rate',digits=1)
survival %>%
filter(death_rate<=0.002, death_rate>0) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases')) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='') %>%
formatPercentage('death_rate',digits=1)
survival %>%
filter(death_rate>=0.157, death_rate>0) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases')) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='') %>%
formatPercentage('death_rate',digits=1)
coi <- c('China','Italy','New Zealand','Taiwan','United_States_of_America')
survival %>%
filter(countriesAndTerritories %in% coi) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases')) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='') %>%
formatPercentage('death_rate',digits=1)
coi <- c('China','Germany','Italy','New Zealand','Taiwan','United_States_of_America')
survival %>%
filter(countriesAndTerritories %in% coi) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases')) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='') %>%
formatPercentage('death_rate',digits=1)
coi <- c('China','Germany','Italy','New Zealand','Taiwan','United_States_of_America')
survival %>%
filter(countriesAndTerritories %in% coi) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases'),
autoHideNavigation = T) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='') %>%
formatPercentage('death_rate',digits=1)
coi <- c('China','Germany','Italy','New Zealand','Taiwan','United_States_of_America')
survival %>%
filter(countriesAndTerritories %in% coi) %>%
datatable(colnames=c('Country','Total cases','Total deaths','Deaths per cases'),
options=list(dom='t')) %>%
formatCurrency(c('deaths_total','cases_total'),mark=',',digits=0,currency='') %>%
formatPercentage('death_rate',digits=1)
